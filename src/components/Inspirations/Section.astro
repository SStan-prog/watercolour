---
import { Image } from '@astrojs/image/components';
const { section } = Astro.props;
console.log(section);
---

<section>
  <div class="flex flex-col items-center py-10">
    <h2
      class="mb-10 text-center font-heading text-2xl font-bold leading-relaxed sm:text-4xl sm:leading-relaxed"
    >
      {section.heading}
    </h2>
    <div
      class="mx-auto grid max-w-[1100px] grid-cols-2 flex-wrap justify-center gap-5 px-5 sm:grid-cols-4 lg:grid-cols-6"
    >
      {
        section.communities.map((c: any, i: number) => {
          console.log(i);
          return (
            <a
              href={c.link}
              target="_blank"
              rel="noreferrer"
              class={`${i < 2 ? 'col-span-2 lg:col-span-3' : 'col-span-2'}`}
            >
              <div class="relative">
                <Image
                  src={c.image.sourceUrl}
                  alt={c.image.altText}
                  width={550}
                  aspectRatio={4 / 2.6}
                  format="webp"
                  fit="cover"
                  background="transparent"
                />
                <div class="bg-black-400 absolute top-1/2 left-1/2 h-full  w-full -translate-x-1/2 -translate-y-1/2 bg-opacity-10" />
                <div class="bg-black-400 absolute bottom-0 w-full bg-opacity-40">
                  <p class="p-1 text-center text-white">{c.location}</p>
                </div>
                <h3 class="font-heading absolute top-1/2 left-1/2 z-10 w-full -translate-x-1/2 -translate-y-1/2 px-10 text-center text-3xl font-bold text-white">
                  {c.name}
                </h3>
              </div>
            </a>
          );
        })
      }
    </div>
  </div>
</section>
