---
import { Image } from '@astrojs/image/components';
const { testimonials } = Astro.props;

interface TestimonialImage {
  sourceUrl: string;
  altText: string;
}

interface Testimonial {
  name: string;
  body: string;
  link: string;
  image: TestimonialImage;
}
---

<section class="bg-green py-20">
  <div class="max-w-[1200px] mx-auto flex flex-col items-center px-10">
    <h2
      class="text-3xl sm:text-5xl text-white font-heading font-bold mb-16 text-center sm:leading-relaxed"
    >
      {testimonials.heading}
    </h2>
    <div class="flex gap-10 flex-wrap justify-center">
      {
        testimonials.testimonials.map((testimonial: Testimonial) => {
          return (
            <div class="max-w-[325px]">
              {' '}
              <Image
                src={testimonial.image.sourceUrl}
                alt={testimonial.image.altText}
                width={325}
                aspectRatio={4 / 3}
                format="webp"
                fit="cover"
                position="center"
                class="rounded-t-lg border-b-8 border-b-grey-200"
              />
              <div class="relative bg-white pt-6 px-2 pb-2 rounded-b-lg shadow-3xl">
                <div class="absolute -top-6 bg-red rounded-full p-3 ">
                  <img src="/icons/quote.svg" alt="quote" class="w-[16px]" />
                </div>

                <p class="mb-2">
                  {testimonial.body}{' '}
                  <a class="text-red" href={testimonial.link}>
                    {' '}
                    Read More
                  </a>
                </p>

                <span class="font-heading font-bold">{testimonial.name}</span>
              </div>
            </div>
          );
        })
      }
    </div>
  </div>
</section>
